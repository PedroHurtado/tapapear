<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crear Nuevo Cliente</title>
    <!-- Inclusión de Tailwind CSS para un diseño moderno y adaptable -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inclusión de la fuente Inter de Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Usar la fuente Inter como fuente principal del cuerpo del documento */
        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4 sm:p-6 lg:p-8">

    <div class="w-full max-w-2xl bg-white rounded-xl shadow-lg p-8 space-y-8">
        <!-- Encabezado del formulario -->
        <div class="text-center">
            <h1 class="text-3xl font-bold text-gray-800">Crear Nuevo Cliente</h1>
            <p class="text-gray-500 mt-2">Completa los siguientes campos para registrar un nuevo cliente.</p>
        </div>

        <!-- Formulario principal -->
        <form id="customerForm" class="space-y-6">

            <!-- Sección de Información Personal -->
            <fieldset class="border-t border-gray-200 pt-6">
                <legend class="text-lg font-semibold text-gray-700 px-2">Información Personal</legend>
                <div class="space-y-6 mt-4">
                    <!-- Campo Nombre Completo -->
                    <div>
                        <label for="name" class="block text-sm font-medium text-gray-600 mb-1">Nombre Completo</label>
                        <input type="text" id="name" name="name" placeholder="Ej: Juan Pérez" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out">
                    </div>
                    <!-- Campo País -->
                    <div>
                        <label for="country" class="block text-sm font-medium text-gray-600 mb-1">País</label>
                        <input type="text" id="country" name="country" placeholder="Ej: España" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out">
                    </div>
                    <!-- Campo Dirección -->
                    <div>
                        <label for="address" class="block text-sm font-medium text-gray-600 mb-1">Dirección</label>
                        <textarea id="address" name="address" rows="3" placeholder="Ej: Calle Falsa 123, Madrid" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out"></textarea>
                    </div>
                </div>
            </fieldset>

            <!-- Sección de Información de Pago -->
            <fieldset class="border-t border-gray-200 pt-6">
                <legend class="text-lg font-semibold text-gray-700 px-2">Información de Pago</legend>
                <div class="space-y-6 mt-4">
                    <!-- Campo Número de Tarjeta -->
                    <div>
                        <label for="card" class="block text-sm font-medium text-gray-600 mb-1">Número de Tarjeta</label>
                        <input type="text" id="card" name="card" placeholder="•••• •••• •••• ••••" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out">
                    </div>
                    <!-- Campo Fecha de Expiración -->
                    <div>
                        <label for="expiration_card" class="block text-sm font-medium text-gray-600 mb-1">Fecha de Expiración</label>
                        <input type="date" id="expiration_card" name="expiration_card" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out">
                    </div>
                    <!-- Campo CVC -->
                    <div>
                        <label for="cvc" class="block text-sm font-medium text-gray-600 mb-1">CVC</label>
                        <input type="number" id="cvc" name="cvc" placeholder="Ej: 123" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out">
                    </div>
                </div>
            </fieldset>

            <!-- Sección de Información Fiscal -->
            <fieldset class="border-t border-gray-200 pt-6">
                <legend class="text-lg font-semibold text-gray-700 px-2">Información Fiscal</legend>
                <div class="space-y-6 mt-4">
                    <!-- Campo Tipo de Impuesto -->
                    <div>
                        <label for="tax_type" class="block text-sm font-medium text-gray-600 mb-1">Tipo de Impuesto</label>
                        <select id="tax_type" name="tax_type" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out">
                            <option value="" disabled selected>Selecciona un tipo</option>
                            <option value="IVA">IVA (Impuesto sobre el Valor Añadido)</option>
                            <option value="IGIC">IGIC (Impuesto General Indirecto Canario)</option>
                            <option value="VAT">VAT (Value Added Tax)</option>
                            <option value="Other">Otro</option>
                        </select>
                    </div>
                    <!-- Campo Número de Identificación Fiscal -->
                    <div>
                        <label for="tax_number" class="block text-sm font-medium text-gray-600 mb-1">Número Fiscal (NIF/CIF)</label>
                        <input type="text" id="tax_number" name="tax_number" placeholder="Ej: 12345678A" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out">
                    </div>
                </div>
            </fieldset>

            <!-- Botón de envío y mensaje de éxito -->
            <div class="pt-6 text-center">
                <button type="submit" class="w-full sm:w-auto bg-blue-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-300 transition duration-300 ease-in-out">
                    Crear Cliente
                </button>
                <div id="successMessage" class="mt-4 p-4 bg-green-100 text-green-800 rounded-lg hidden">
                    ¡Cliente creado con éxito! Revisa la consola para ver los datos.
                </div>
            </div>
        </form>
    </div>

    <script>
        // Seleccionar el formulario y el mensaje de éxito del DOM
        const customerForm = document.getElementById('customerForm');
        const successMessage = document.getElementById('successMessage');

        // Añadir un listener para el evento 'submit' del formulario
        customerForm.addEventListener('submit', function(event) {
            // Prevenir el comportamiento por defecto del formulario (que recargaría la página)
            event.preventDefault();

            // Crear un objeto FormData para recoger fácilmente los valores de los campos
            const formData = new FormData(customerForm);
            const customerData = {};

            // Iterar sobre los datos del formulario y construir un objeto
            for (let [key, value] of formData.entries()) {
                customerData[key] = value;
            }

            // Simular el objeto TaxType basado en la selección del usuario
            customerData.tax_type = {
                id: null, // El ID se generaría en el backend
                description: customerData.tax_type
            };

            // Mostrar el objeto con los datos del cliente en la consola del navegador
            console.log("--- Nuevo Cliente Creado ---");
            console.log(customerData);

            // Mostrar el mensaje de éxito y ocultarlo después de 5 segundos
            successMessage.classList.remove('hidden');
            setTimeout(() => {
                successMessage.classList.add('hidden');
            }, 5000);

            // Opcional: Limpiar el formulario después del envío
            // customerForm.reset();
        });
    </script>

</body>
</html>
